<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        #container1{
            display: grid;
            grid-template-columns: repeat(4,1fr);
            row-gap: 20px;
            margin: auto;
        }
        h2{
            text-align: center;
        }
    </style>
</head>
<body>
    <h2 id="counter"></h2>
    <div id="container">
        <div  id="container1"></div>
    </div>
</body>
</html>
<script>
    var savedata=JSON.parse(localStorage.getItem("Products"))||[]

    savedata.forEach(function(elem,index){
        //   console.log(savedata)

          let div=document.createElement("div");

          let img=document.createElement("img")
          img.src=elem.url

          let name=document.createElement("p")
          name.innerText=`Name:$${elem.name}`

          let category=document.createElement("p")
          category.innerText=`Category:${elem.category}`

          let price=document.createElement("p")
          price.innerText=`Price:$${elem.price}`
          
          let gender=document.createElement("p")
          gender.innerText=`Gender:${elem.gender}`
          
          let btn=document.createElement("button")
          btn.innerText=`Remove`

          let btn1=document.createElement("button")
          btn1.innerText=`Sold`;
          btn1.style.color="white"
          if(elem.sold===true){
                btn1.style.backgroundColor="green"
                btn1.style.backgroundColor="reset"
           
              }
              if(elem.sold===false){
                btn1.style.backgroundColor="red"
           
              }
         btn1.addEventListener("click",function(){
             changecolour(elem,btn1);
         })
         

          div.append(img,name,category,price,gender,btn,btn1)
         document.querySelector("#container1").append(div)
          
          btn.addEventListener("click",function(){
              removedata(elem,index)
          })
     
          
        //    console.log(name)
       
         
        
   
        })
        document.querySelector("#counter").innerText=`total number of product is ${savedata.length}`
    function removedata(elem,index){
         savedata.splice(index,1)
         localStorage.setItem("Products",JSON.stringify(savedata))
        alert("product remove")
        window.location.reload();
}

function changecolour(elem,btn1){
    
              if(btn1.style.backgroundColor==="red"){
                btn1.style.backgroundColor="green"
                btn1.style.backgroundColor="reset"
           
              }
             else if(btn1.style.backgroundColor==="green"){
                btn1.style.backgroundColor="red"
           
              }
         
         
}
</script>